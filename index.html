<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Happy Birthday Langling!</title>
<style>
body, html {
  margin: 0;
  padding: 0;
  width: 80%;
  height: 80%;
  font-family: 'Courier New', cursive, sans-serif;
  background: #FEFBC7;
  overflow: hidden;
}

.scene {
  display: none;
  width: 100%;
  height: 100%;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  text-align: center;
  position: absolute;
  top: 0;
  left: 0;
}

.scene.active { display: flex; }

.cat img { width: 300px; }

button {
  margin-top: 20px;
  padding: 10px 20px;
  border: none;
  background: #5EABD6;
  color: white;
  border-radius: 10px;
  cursor: pointer;
  font-size: 16px;
  z-index: 10000; /* ensure clickable */
  position: relative;
}

.flowers {
  display: flex;
  flex-wrap: wrap;
  width: 80%;
  justify-content: center;
}

.flower img {
  width: 120px;
  margin: 10px;
  cursor: pointer;
  transition: transform 0.5s;
}

.flower.picked img {
  opacity: 0;
  transform: scale(0);
  pointer-events: none;
}

.cake img {
  width: 300px;
  margin-top: 20px;
  transition: transform 0.3s ease-in-out;
}

canvas#confetti {
  position: fixed;
  top: 0;
  left: 0;
  pointer-events: none;
  z-index: 9999;
}

/* Scene 4 Layout */
.scene4-container {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  text-align: left;
  gap: 10px;
  padding-top: 20px;
}

.scene4-container h1 {
  font-size: 36px;
  margin: 0;
  color: #5EABD6;
  font-family: 'Arial Black';
}

.small-msg {
  font-size: 12px;
  margin: 20;
  font-family: 'Courier New', cursive;
}

.cake-cat-wrapper {
  display: flex;
  align-items: flex-end;
  justify-content: center;
  gap: 0;
  margin-top: 5px;
  position: relative;
}

.cake img, .right-cat img {
     
  transition: transform 0.2s ease-in-out;
}

.cake img { width: 220px; margin-right: -100px; /* overlap with cat */
	margin-top: -4800;
 }
.right-cat img { width: 300px; margin-left: -60px; /* overlap more if needed */
	margin-top:-4000; }
</style>
</head>
<body>
<canvas id="confetti"></canvas>

<!-- Scene 1 -->
<div class="scene active" id="scene1">
  <div class="cat"><img src="cat.png" alt="cat"></div>
  <div>Hey, dear? I have something for you‚Ä¶</div>
  <button onclick="goToScene(2)">Next ‚Üí</button>
</div>

<!-- Scene 2 -->
<div class="scene" id="scene2">
  <div class="cat"><img src="cat-basket.png" alt="cat with basket"></div>
  <div>Can you help me pick up the flowers? -pweeeseee-</div>
  <div class="flowers" id="flowers">
    <div class="flower"><img src="flower1.png" alt="flower"></div>
    <div class="flower"><img src="flower2.png" alt="flower"></div>
    <div class="flower"><img src="flower3.png" alt="flower"></div>
    <div class="flower"><img src="flower4.png" alt="flower"></div>
    <div class="flower"><img src="flower5.png" alt="flower"></div>
    <div class="flower"><img src="flower6.png" alt="flower"></div>
    <div class="flower"><img src="flower7.png" alt="flower"></div>
    <div class="flower"><img src="flower8.png" alt="flower"></div>
  </div>
</div>

<!-- Scene 3 -->
<div class="scene" id="scene3">
  <div class="cat"><img src="cat-flowers.png" alt="cat with flowers"></div>
  <div>Yay! You got 'em all! </div> mwehehe:3 </div>
</div>

<!-- Scene 4 -->
<div class="scene" id="scene4">
  <div class="scene4-container">
    <h1>H A P P Y B I R T H D A Y !</h1>
    <p class="small-msg"> XxlanglingüôàxX <br> HAHAHSHSA Have a great day! ‚ù§Ô∏èü´£ü§≠üôà</p>
    <div class="cake-cat-wrapper">
      <div class="cake"><img src="cake.png" alt="cake"></div>
      <div class="right-cat"><img src="cat-bouquet.png" alt="cat with bouquet"></div>
    </div>
  </div>
</div>

<script>
let currentScene = 1;
let pickedFlowers = 0;
const totalFlowers = 8;

function goToScene(n) {
  document.getElementById("scene" + currentScene).classList.remove("active");
  currentScene = n;
  document.getElementById("scene" + currentScene).classList.add("active");
}

document.querySelectorAll(".flower").forEach(flower => {
  flower.addEventListener("click", () => {
    if (!flower.classList.contains("picked")) {
      flower.classList.add("picked");
      pickedFlowers++;
      if (pickedFlowers === totalFlowers) {
        setTimeout(() => {
          goToScene(3);
          setTimeout(() => {
            goToScene(4);
            startBalloons();
            startBounce();
          }, 2000);
        }, 800);
      }
    }
  });
});

// Balloon effect
const confettiCanvas = document.getElementById("confetti");
const ctx = confettiCanvas.getContext("2d");
confettiCanvas.width = window.innerWidth;
confettiCanvas.height = window.innerHeight;

const balloons = [];
const balloonColors = ['#FF5E5B', '#FFED66', '#00CECB', '#9B5DE5', '#F15BB5'];

function Balloon() {
  this.x = Math.random() * confettiCanvas.width;
  this.y = confettiCanvas.height + Math.random() * 200;
  this.radius = Math.random() * 20 + 15;
  this.speed = Math.random() * 1 + 1;
  this.color = balloonColors[Math.floor(Math.random() * balloonColors.length)];
  this.stringLength = this.radius * 2;
  this.sway = Math.random() * 2 - 1;
}

function startBalloons() {
  for (let i = 0; i < 40; i++) balloons.push(new Balloon());
  requestAnimationFrame(updateBalloons);
}

function updateBalloons() {
  ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
  balloons.forEach(b => {
    ctx.beginPath();
    ctx.arc(b.x, b.y, b.radius, 0, Math.PI*2);
    ctx.fillStyle = b.color;
    ctx.fill();
    ctx.closePath();

    ctx.beginPath();
    ctx.moveTo(b.x, b.y + b.radius);
    ctx.lineTo(b.x, b.y + b.radius + b.stringLength);
    ctx.strokeStyle = '#555';
    ctx.lineWidth = 1;
    ctx.stroke();
    ctx.closePath();

    b.y -= b.speed;
    b.x += b.sway;

    if (b.y + b.radius + b.stringLength < 0) {
      b.y = confettiCanvas.height + b.radius + Math.random() * 100;
      b.x = Math.random() * confettiCanvas.width;
    }
  });
  requestAnimationFrame(updateBalloons);
}

// Bounce / wiggle animation
function startBounce() {
  const scene4 = document.getElementById('scene4');
  const cake = scene4.querySelector('.cake img');
  const cat = scene4.querySelector('.right-cat img');

  let angleCake = 0;
  let angleCat = 0;

  function bounce() {
    angleCake += 0.05;
    const offsetCake = Math.sin(angleCake) * 5;
    const rotateCake = Math.sin(angleCake) * 2;
    cake.style.transform = `translateY(${-offsetCake}px) rotate(${rotateCake}deg)`;

    angleCat += 0.02; // slower wiggle
    const offsetCat = Math.sin(angleCat) * 8;
    const rotateCat = Math.sin(angleCat*2) * 6;
    cat.style.transform = `translateY(${-offsetCat}px) rotate(${rotateCat}deg)`;

    requestAnimationFrame(bounce);
  }

  bounce();
}

window.addEventListener("resize", () => {
  confettiCanvas.width = window.innerWidth;
  confettiCanvas.height = window.innerHeight;
});
</script>
</body>
</html>


